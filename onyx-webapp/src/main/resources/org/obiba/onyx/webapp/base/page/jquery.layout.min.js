/*
 * jquery.layout 1.0.0
 *
 * Copyright (c) 2008 
 *   Fabrizio Balliano (http://www.fabrizioballiano.net)
 *   Kevin Dalman (http://allpro.net)
 *
 * Dual licensed under the GPL (http://www.gnu.org/licenses/gpl.html)
 * and MIT (http://www.opensource.org/licenses/mit-license.php) licenses.
 *
 * $Date: 2008-11-15 23:46:22 +0100 (sab, 15 nov 2008) $
 * $Rev: 173 $
 * 
 * NOTE: For best code readability, view this with a fixed-space font and tabs equal to 4-chars
 */
(function($){$.fn.layout=function(opts){var
prefix="ui-layout-",defaults={paneClass:prefix+"pane",resizerClass:prefix+"resizer",togglerClass:prefix+"toggler",buttonClass:prefix+"button",contentSelector:"."+prefix+"content",contentIgnoreSelector:"."+prefix+"ignore"};var options={name:"",defaults:{applyDefaultStyles:false,closable:true,resizable:true,slidable:true,paneClass:defaults.paneClass,contentSelector:defaults.contentSelector,contentIgnoreSelector:defaults.contentIgnoreSelector,togglerClass:defaults.togglerClass,buttonClass:defaults.buttonClass,resizerClass:defaults.resizerClass,resizerDragOpacity:1,minSize:50,maxSize:0,spacing_open:6,spacing_closed:6,togglerLength_open:50,togglerLength_closed:50,togglerAlign_open:"center",togglerAlign_closed:"center",togglerTip_open:"Close",togglerTip_closed:"Open",resizerTip:"Resize",sliderTip:"Slide Open",sliderCursor:"pointer",slideTrigger_open:"click",slideTrigger_close:"mouseout",hideTogglerOnSlide:true,raisePaneZindexOnHover:false,initClosed:false,initHidden:false,onopen:"",onclose:"",onresize:"",fxName:"slide",fxSpeed:"normal",fxSettings:{}},north:{paneSelector:"."+prefix+"north",size:"auto",resizerCursor:"n-resize"},south:{paneSelector:"."+prefix+"south",size:"auto",resizerCursor:"s-resize"},east:{paneSelector:"."+prefix+"east",size:200,resizerCursor:"e-resize"},west:{paneSelector:"."+prefix+"west",size:200,resizerCursor:"w-resize"},center:{paneSelector:"."+prefix+"center"}};var config={allPanes:"north,south,east,west,center",borderPanes:"north,south,east,west",zIndex:{resizer_normal:1,pane_normal:2,sliding:100,resizing:10000,animation:10000},fxDefaults:{slide:{all:{},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},drop:{all:{},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},scale:{}},resizers:{cssReq:{position:"absolute",padding:0,margin:0,fontSize:"1px",textAlign:"left",overflow:"hidden",zIndex:1},cssDef:{background:"#DDD",border:"none"}},togglers:{cssReq:{position:"absolute",display:"block",padding:0,margin:0,fontSize:"1px",cursor:"pointer",zIndex:1},cssDef:{background:"#AAA",border:"1px solid #777"}},content:{cssReq:{overflow:"auto"},cssDef:{}},defaults:{cssReq:{position:"absolute",overflow:"auto",margin:0,zIndex:2},cssDef:{padding:"10px",background:"#fff",border:"1px solid #bbb"}},north:{edge:"top",sizeType:"height",dir:"horz",cssReq:{top:0,bottom:"auto",left:0,right:0,width:"auto"}},south:{edge:"bottom",sizeType:"height",dir:"horz",cssReq:{top:"auto",bottom:0,left:0,right:0,width:"auto"}},east:{edge:"right",sizeType:"width",dir:"vert",cssReq:{left:"auto",right:0,top:"auto",bottom:"auto",height:"auto"}},west:{edge:"left",sizeType:"width",dir:"vert",cssReq:{left:0,right:"auto",top:"auto",bottom:"auto",height:"auto"}},center:{dir:"center",cssReq:{left:"auto",right:"auto",top:"auto",bottom:"auto",height:"auto",width:"auto"}}};var
altEdge={top:"bottom",bottom:"top",left:"right",right:"left"},altSide={north:"south",south:"north",east:"west",west:"east"};var isStr=function(o){if(typeof o=="string")return true;else if(typeof o=="object"){var match=o.constructor.toString().match(/string/i);return(match!==null);}else
return false;};var str=function(o){if(typeof o=="string"||isStr(o))return $.trim(o);else return o;};var min=function(x,y){return Math.min(x,y);};var max=function(x,y){return Math.max(x,y);};var transformData=function(d){var json={defaults:{},north:{},south:{},east:{},west:{},center:{}};d=d||{};if(d.fxDefaults||d.defaults||d.north||d.south||d.west||d.east||d.center)return $.extend(json,d);$.each(d,function(key,val){a=key.split("__");json[a[1]?a[0]:"defaults"][a[1]?a[1]:a[0]]=val;});return json;};var execCallback=function(pane,v_fn){if(!v_fn)return;var fn;try{if(typeof v_fn=="function")fn=v_fn;else if(typeof v_fn!="string")return;else if(v_fn.indexOf(",")>0){var
args=v_fn.split(","),fn=eval(args[0]);if(typeof fn=="function"&&args.length>1)fn(args[1]);return;}else
fn=eval(v_fn);if(typeof fn=="function")fn(pane,$Ps[pane],o[pane],o.name);}catch(ex){}};var cssNum=function($E,prop){var
val=0,hidden=false,visibility="";if(!$.browser.msie){if($.curCSS($E[0],"display",true)=="none"){hidden=true;visibility=$.curCSS($E[0],"visibility",true);$E.css({display:"block",visibility:"hidden"});}}val=parseInt($.curCSS($E[0],prop,true),10)||0;if(hidden){$E.css({display:"none"});if(visibility&&visibility!="hidden")$E.css({visibility:visibility});}return val;};var cssW=function(e,outerWidth){var $E=e;if(isStr(e)){e=str(e);$E=$Ps[e];}if(outerWidth<=0)return 0;else if(!(outerWidth>0))outerWidth=isStr(e)?getPaneSize(e):$E.outerWidth();if(!$.boxModel)return outerWidth;else
return outerWidth
-cssNum($E,"paddingLeft")-cssNum($E,"paddingRight")-($.curCSS($E[0],"borderLeftStyle",true)=="none"?0:cssNum($E,"borderLeftWidth"))-($.curCSS($E[0],"borderRightStyle",true)=="none"?0:cssNum($E,"borderRightWidth"));};var cssH=function(e,outerHeight){var $E=e;if(isStr(e)){e=str(e);$E=$Ps[e];}if(outerHeight<=0)return 0;else if(!(outerHeight>0))outerHeight=(isStr(e))?getPaneSize(e):$E.outerHeight();if(!$.boxModel)return outerHeight;else
return outerHeight
-cssNum($E,"paddingTop")-cssNum($E,"paddingBottom")-($.curCSS($E[0],"borderTopStyle",true)=="none"?0:cssNum($E,"borderTopWidth"))-($.curCSS($E[0],"borderBottomStyle",true)=="none"?0:cssNum($E,"borderBottomWidth"));};var cssSize=function(pane,outerSize){if(pane=="north"||pane=="south")return cssH(pane,outerSize);else
return cssW(pane,outerSize);};var getPaneSize=function(pane,inclSpace){var
$P=$Ps[pane],s=o[pane],oSp=(inclSpace?s.spacing_open:0),cSp=(inclSpace?s.spacing_closed:0);if(!$P||s.isHidden)return 0;else if(s.isClosed||(s.isSliding&&inclSpace))return cSp;else if(c[pane].dir=="horz")return $P.outerHeight()+oSp;else
return $P.outerWidth()+oSp;};var getPaneMinMaxSizes=function(pane){var
edge=c[pane].edge,dir=c[pane].dir,s=o[pane],$P=$Ps[pane],$altPane=$Ps[altSide[pane]],paneSpacing=s.spacing_open,altPaneSpacing=o[altSide[pane]].spacing_open,altPaneSize=(!$altPane?0:(dir=="horz"?$altPane.outerHeight():$altPane.outerWidth())),containerSize=(dir=="horz"?cDims.innerHeight:cDims.innerWidth),limitSize=containerSize-paneSpacing-altPaneSize-altPaneSpacing,minSize=s.minSize||0,maxSize=Math.min(s.maxSize||9999,limitSize),minPos,maxPos;switch(pane){case"north":minPos=cDims.offsetTop+minSize;maxPos=cDims.offsetTop+maxSize;break;case"west":minPos=cDims.offsetLeft+minSize;maxPos=cDims.offsetLeft+maxSize;break;case"south":minPos=cDims.offsetTop+cDims.innerHeight-maxSize;maxPos=cDims.offsetTop+cDims.innerHeight-minSize;break;case"east":minPos=cDims.offsetLeft+cDims.innerWidth-maxSize;maxPos=cDims.offsetLeft+cDims.innerWidth-minSize;break;}return{minSize:minSize,maxSize:maxSize,minPosition:minPos,maxPosition:maxPos};};var getPaneDims=function(){var dims={top:getPaneSize("north",true),bottom:getPaneSize("south",true),left:getPaneSize("west",true),right:getPaneSize("east",true),width:0,height:0},d=cDims;with(dims){width=d.innerWidth-left-right;height=d.innerHeight-bottom-top;top+=d.top;bottom+=d.bottom;left+=d.left;right+=d.right;}return dims;};var getContainerDims=function(){var d={top:0,bottom:0,left:0,right:0,outerWidth:$Container.outerWidth(),outerHeight:$Container.outerHeight()};$.each("Left,Right,Top,Bottom".split(","),function(){var side=str(this);d["border"+side]=cssNum($Container,"border"+side+"Width");d["padding"+side]=cssNum($Container,"padding"+side);d["offset"+side]=d["border"+side]+d["padding"+side];if($.boxModel)d[side.toLowerCase()]=d["padding"+side];});d.innerWidth=d.outerWidth;d.innerHeight=d.outerHeight;if($.boxModel){d.innerWidth-=(d.offsetLeft+d.offsetRight);d.innerHeight-=(d.offsetTop+d.offsetBottom);}return d;};var setTimer=function(pane,action,fn,ms){var
Layout=window.layout=window.layout||{},Timers=Layout.timers=Layout.timers||{},layoutID="_"+999,name=layoutID+"_"+pane+"_"+action;if(Timers[name])return;else Timers[name]=setTimeout(fn,ms);};var clearTimer=function(pane,action){var
Layout=window.layout=window.layout||{},Timers=Layout.timers=Layout.timers||{},layoutID="_"+999,name=layoutID+"_"+pane+"_"+action;if(Timers[name]){clearTimeout(Timers[name]);delete Timers[name];return true;}else
return false;};var create=function(){var isBodyContainer=false;try{if($Container[0].tagName=="BODY"){isBodyContainer=true;$("html").css({height:"100%",overflow:"hidden"});$("body").css({position:"relative",height:"100%",overflow:"hidden",margin:0,padding:0,border:"none"});}}catch(ex){}initOptions();cDims=getContainerDims();initPanes();initHandles();initResizable();sizeContent("all");if(isBodyContainer)$(window).resize(function(){if(window.timerLayout)clearTimeout(window.timerLayout);window.timerLayout=null;if($.browser.msie)window.timerLayout=setTimeout(resizeAll,100);else
resizeAll();});};var initOptions=function(){opts=transformData(opts);o.name=opts.name||opts.defaults.name||"";$.each("paneSelector,resizerCursor,name".split(","),function(idx,key){delete opts.defaults[key];});var fx=c.fxDefaults;if(opts.fxDefaults)$.extend(fx,opts.fxDefaults);c.center=$.extend(true,{},c.defaults,c.center);$.extend(o.center,opts.center);var o_Center=$.extend(true,{},o.defaults,opts.defaults,o.center);$.each("paneClass,contentSelector,contentIgnoreSelector,applyDefaultStyles,raisePaneZindexOnHover".split(","),function(idx,key){o.center[key]=o_Center[key];});$.each(c.borderPanes.split(","),function(i,pane){c[pane]=$.extend(true,{},c.defaults,c[pane]);o[pane]=$.extend(true,{},o.defaults,o[pane],opts.defaults,opts[pane]);var s=o[pane];if(!s.paneClass)s.paneClass=defaults.paneClass;if(!s.resizerClass)s.resizerClass=defaults.resizerClass;if(!s.togglerClass)s.togglerClass=defaults.togglerClass;var fxName=s.fxName;if(fxName!="none"){if(!fxName||!$.effects||!$.effects[fxName]||(!fx[fxName]&&!s.fxSettings))s.fxName="none";else if(fx[fxName])s.fxSettings=$.extend({},fx[fxName].all,fx[fxName][pane],s.fxSettings);}});$.extend(o.defaults,opts.defaults);};var initPanes=function(){$.each(c.allPanes.split(","),function(){var
pane=str(this),s=o[pane],fx=s.fx,dir=c[pane].dir,size=s.size=="auto"||isNaN(s.size)?0:s.size,minSize=s.minSize||1,maxSize=s.maxSize||9999,spacing=s.spacing_open||0,isIE6=($.browser.msie&&$.browser.version<7),CSS={},$P,$C;$Cs[pane]=false;$P=$Ps[pane]=$Container.children(s.paneSelector);if(!$P.length){$Ps[pane]=false;return true;}$P.attr("pane",pane).addClass(s.paneClass+" "+s.paneClass+"-"+pane);if(pane!="center"){s.isClosed=false;s.isSliding=false;s.isResizing=false;s.isHidden=false;s.noRoom=false;c[pane].pins=[];}CSS=$.extend({visibility:"visible",display:"block"},c.defaults.cssReq,c[pane].cssReq);if(s.applyDefaultStyles)$.extend(CSS,c.defaults.cssDef,c[pane].cssDef);$P.css(CSS);CSS={};switch(pane){case"north":CSS.top=cDims.top;CSS.left=cDims.left;CSS.right=cDims.right;break;case"south":CSS.bottom=cDims.bottom;CSS.left=cDims.left;CSS.right=cDims.right;break;case"west":CSS.left=cDims.left;break;case"east":CSS.right=cDims.right;break;case"center":}if(dir=="horz"){if(size===0||size=="auto"){$P.css({height:"auto"});size=$P.outerHeight();}size=max(size,minSize);size=min(size,maxSize);size=min(size,cDims.innerHeight-spacing);CSS.height=max(1,cssH(pane,size));s.minSize=max(minSize,size-CSS.height+1);$P.css(CSS);}else if(dir=="vert"){if(size===0||size=="auto"){$P.css({width:"auto",float:"left"});size=$P.outerWidth();$P.css({float:"none"});}size=max(size,minSize);size=min(size,maxSize);size=min(size,cDims.innerWidth-spacing);CSS.width=max(1,cssW(pane,size));s.minSize=max(minSize,size-CSS.width+1);$P.css(CSS);sizeMidPanes(pane,null,true);}else if(pane=="center"){$P.css(CSS);sizeMidPanes("center",null,true);}if(s.initClosed&&!s.isClosable){$P.hide().addClass("closed");s.isClosed=true;}else if(s.initHidden||s.initClosed){hide(pane,true);s.isHidden=true;}else
$P.addClass("open");if(s.raisePaneZindexOnHover)$P.hover(allowOverflow,resetOverflow);if(s.contentSelector){$C=$Cs[pane]=$P.children(s.contentSelector+":first");if(!$C.length){$Cs[pane]=false;return true;}$C.css(c.content.cssReq);if(s.applyDefaultStyles)$C.css(c.content.cssDef);$P.css({overflow:"hidden"});}});};var initHandles=function(){$.each(c.borderPanes.split(","),function(){var
pane=str(this),s=o[pane],rClass=s.resizerClass,tClass=s.togglerClass,$P=$Ps[pane];$Rs[pane]=false;$Ts[pane]=false;if(!$P||(!s.closable&&!s.resizable))return;var
edge=c[pane].edge,isOpen=$P.is(":visible"),spacing=(isOpen?s.spacing_open:s.spacing_closed),_side="-"+pane,_state=(isOpen?"-open":"-closed"),$R,$T;$R=$Rs[pane]=$("<div></div>");if(isOpen&&s.resizable);else if(!isOpen&&s.slidable)$R.attr("title",s.sliderTip).css("cursor",s.sliderCursor);$R.attr("id",(s.paneSelector.substr(0,1)=="#"?s.paneSelector.substr(1)+"-resizer":"")).attr("resizer",pane).css(c.resizers.cssReq).css(edge,cDims[edge]+getPaneSize(pane)).addClass(rClass+" "+rClass+_side+" "+rClass+_state+" "+rClass+_side+_state).appendTo($Container);if(s.applyDefaultStyles)$R.css(c.resizers.cssDef);if(s.closable){$T=$Ts[pane]=$("<span></span>");$T.attr("id",(s.paneSelector.substr(0,1)=="#"?s.paneSelector.substr(1)+"-toggler":"")).css(c.togglers.cssReq).attr("title",(isOpen?s.togglerTip_open:s.togglerTip_closed)).click(function(evt){toggle(pane);evt.stopPropagation();}).mouseover(function(evt){evt.stopPropagation();}).addClass(tClass+" "+tClass+_side+" "+tClass+_state+" "+tClass+_side+_state).appendTo($R);if(s.applyDefaultStyles)$T.css(c.togglers.cssDef);if(!isOpen)bindStartSlidingEvent(pane,true);}});sizeHandles("all",true);};var initResizable=function(){var
draggingAvailable=(typeof $.fn.draggable=="function"),minPosition,maxPosition,edge;$.each(c.borderPanes.split(","),function(){var
pane=str(this),s=o[pane];if(!draggingAvailable||!$Ps[pane]||!s.resizable){s.resizable=false;return true;}var
rClass=s.resizerClass,dragClass=rClass+"-drag",dragPaneClass=rClass+"-"+pane+"-drag",draggingClass=rClass+"-dragging",draggingPaneClass=rClass+"-"+pane+"-dragging",draggingClassSet=false,$P=$Ps[pane],$R=$Rs[pane];if(!s.isClosed)$R.attr("title",s.resizerTip).css("cursor",s.resizerCursor);$R.draggable({containment:$Container[0],axis:(c[pane].dir=="horz"?"y":"x"),delay:200,distance:3,helper:"clone",opacity:s.resizerDragOpacity,zIndex:c.zIndex.resizing,start:function(e,ui){s.isResizing=true;clearTimer(pane,"closeSlider");$R.addClass(dragClass+" "+dragPaneClass);draggingClassSet=false;var limits=getPaneMinMaxSizes(pane);var resizerWidth=(pane=="east"||pane=="south"?s.spacing_open:0);minPosition=limits.minPosition-resizerWidth;maxPosition=limits.maxPosition-resizerWidth;edge=(c[pane].dir=="horz"?"top":"left");},drag:function(e,ui){if(!draggingClassSet){$(".ui-draggable-dragging").addClass(draggingClass+" "+draggingPaneClass).children().css("visibility","hidden");draggingClassSet=true;if(o[pane].isSliding)$Ps[pane].css("zIndex",c.zIndex.sliding);}if(ui.position[edge]<minPosition)ui.position[edge]=minPosition;else if(ui.position[edge]>maxPosition)ui.position[edge]=maxPosition;},stop:function(e,ui){var
dragPos=ui.position,resizerPos,newSize;$R.removeClass(dragClass+" "+dragPaneClass);switch(pane){case"north":resizerPos=dragPos.top;break;case"west":resizerPos=dragPos.left;break;case"south":resizerPos=cDims.outerHeight-dragPos.top-$R.outerHeight();break;case"east":resizerPos=cDims.outerWidth-dragPos.left-$R.outerWidth();break;}newSize=resizerPos-cDims[c[pane].edge];sizePane(pane,newSize);s.isResizing=false;}});});};var hide=function(pane,onInit){var
s=o[pane],$P=$Ps[pane],$R=$Rs[pane];if(!$P)return;else if(s.isHidden)return;else s.isHidden=true;s.isSliding=false;if($R)$R.hide();if(onInit){$P.hide();s.isClosed=true;}else close(pane,true);};var show=function(pane,openPane){var
s=o[pane],$P=$Ps[pane],$R=$Rs[pane];if(!$P)return;else if(!s.isHidden)return;else s.isHidden=false;s.isSliding=false;if($R&&s.spacing_open>0)$R.show();if(openPane===false)close(pane,true);else
open(pane);};var toggle=function(pane){var s=o[pane];if(s.isHidden)show(pane);else if(s.isClosed)open(pane);else
close(pane);};var close=function(pane,force){var
$P=$Ps[pane],$R=$Rs[pane],$T=$Ts[pane],s=o[pane],doFX=(s.fxName!="none")&&!s.isClosed,edge=c[pane].edge,rClass=s.resizerClass,tClass=s.togglerClass,_side="-"+pane,_open="-open",_sliding="-sliding",_closed="-closed";if(!$P||(!s.resizable&&!s.closable))return;else if(!force&&s.isClosed)return;s.isClosed=true;syncPinBtns(pane,false);if(!s.isSliding)sizeMidPanes(c[pane].dir=="horz"?"all":"center");if($R){$R.css(edge,cDims[edge]).removeClass(rClass+_open+" "+rClass+_side+_open).removeClass(rClass+_sliding+" "+rClass+_side+_sliding).addClass(rClass+_closed+" "+rClass+_side+_closed);if(s.resizable)$R.draggable("disable").css("cursor","default").attr("title","");if($T){$T.removeClass(tClass+_open+" "+tClass+_side+_open).addClass(tClass+_closed+" "+tClass+_side+_closed).attr("title",s.togglerTip_closed);}sizeHandles();}if(doFX){lockPaneForFX(pane,true);$P.hide(s.fxName,s.fxSettings,s.fxSpeed,function(){lockPaneForFX(pane,false);if(!s.isClosed)return;close_2();});}else{$P.hide();close_2();}function close_2(){bindStartSlidingEvent(pane,true);execCallback(pane,s.onclose);}};var open=function(pane,slide){var
$P=$Ps[pane],$R=$Rs[pane],$T=$Ts[pane],s=o[pane],fx=s.fx,doFX=(s.fxName!="none")&&s.isClosed,edge=c[pane].edge,rClass=s.resizerClass,tClass=s.togglerClass,_side="-"+pane,_open="-open",_closed="-closed",_sliding="-sliding";if(!$P||(!s.resizable&&!s.closable))return;else if(!s.isClosed&&!s.isSliding)return;if(s.isSliding&&!slide)bindStopSlidingEvents(pane,false);s.isClosed=false;s.isHidden=false;bindStartSlidingEvent(pane,false);if(doFX){lockPaneForFX(pane,true);$P.show(s.fxName,s.fxSettings,s.fxSpeed,function(){lockPaneForFX(pane,false);if(s.isClosed)return;open_2();});}else{$P.show();open_2();}function open_2(){if(!s.isSliding)sizeMidPanes(c[pane].dir=="vert"?"center":"all");if($R){$R.css(edge,cDims[edge]+getPaneSize(pane)).removeClass(rClass+_closed+" "+rClass+_side+_closed).addClass(rClass+_open+" "+rClass+_side+_open).addClass(!s.isSliding?"":rClass+_sliding+" "+rClass+_side+_sliding);if(s.resizable)$R.draggable("enable").css("cursor",s.resizerCursor).attr("title",s.resizerTip);else
$R.css("cursor","default");if($T){$T.removeClass(tClass+_closed+" "+tClass+_side+_closed).addClass(tClass+_open+" "+tClass+_side+_open).attr("title",s.togglerTip_open);}sizeHandles("all");}sizeContent(pane);syncPinBtns(pane,!s.isSliding);execCallback(pane,s.onopen);}};var lockPaneForFX=function(pane,doLock){var $P=$Ps[pane];if(doLock){$P.css({zIndex:c.zIndex.animation});if(pane=="south")$P.css({top:cDims.top+cDims.innerHeight-$P.outerHeight()});else if(pane=="east")$P.css({left:cDims.left+cDims.innerWidth-$P.outerWidth()});}else{if(!o[pane].isSliding)$P.css({zIndex:c.zIndex.pane_normal});if(pane=="south")$P.css({top:"auto"});else if(pane=="east")$P.css({left:"auto"});}};var bindStartSlidingEvent=function(pane,enable){var
s=o[pane],$R=$Rs[pane],trigger=s.slideTrigger_open;if(!$R||!s.slidable)return;if(trigger!="click"&&trigger!="dblclick"&&trigger!="mouseover")trigger="click";$R
[enable?"bind":"unbind"](trigger,slideOpen).css("cursor",(enable?s.sliderCursor:"default")).attr("title",(enable?s.sliderTip:""));};var bindStopSlidingEvents=function(pane,enable){var
s=o[pane],trigger=s.slideTrigger_close,action=(enable?"bind":"unbind"),$P=$Ps[pane],$R=$Rs[pane];s.isSliding=enable;clearTimer(pane,"closeSlider");$P.css({zIndex:(enable?c.zIndex.sliding:c.zIndex.pane_normal)});$R.css({zIndex:(enable?c.zIndex.sliding:c.zIndex.resizer_normal)});if(trigger!="click"&&trigger!="mouseout")trigger="mouseout";if(enable){$P.bind(trigger,slideClosed);$R.bind(trigger,slideClosed);if(trigger="mouseout"){$P.bind("mouseover",cancelMouseOut);$R.bind("mouseover",cancelMouseOut);}}else{$P.unbind(trigger);$R.unbind(trigger);if(trigger="mouseout"){$P.unbind("mouseover");$R.unbind("mouseover");clearTimer(pane,"closeSlider");}}function cancelMouseOut(evt){clearTimer(pane,"closeSlider");evt.stopPropagation();}};var slideOpen=function(){var pane=$(this).attr("resizer");if(o[pane].isClosed){bindStopSlidingEvents(pane,true);open(pane,true);}};var slideClosed=function(){var
$E=$(this),pane=$E.attr("pane")||$E.attr("resizer"),s=o[pane];if(s.isClosed||s.isResizing)return;else if(s.slideTrigger_close=="click")close_NOW();else
setTimer(pane,"closeSlider",close_NOW,300);function close_NOW(){bindStopSlidingEvents(pane,false);if(!s.isClosed)close(pane);}};var sizePane=function(pane,size){var
edge=c[pane].edge,dir=c[pane].dir,s=o[pane],$P=$Ps[pane],$R=$Rs[pane],limits=getPaneMinMaxSizes(pane);size=max(size,limits.minSize);size=min(size,limits.maxSize);$R.css(edge,size+cDims[edge]);$P.css(c[pane].sizeType,max(1,cssSize(pane,size)));if(!s.isSliding)sizeMidPanes(dir=="horz"?"all":"center");sizeHandles();sizeContent(pane);s.size=size;execCallback(pane,s.onresize);};var sizeMidPanes=function(panes,overrideDims,onInit){if(!panes||panes=="all")panes="east,west,center";var dims=getPaneDims();if(overrideDims)$.extend(dims,overrideDims);$.each(panes.split(","),function(){if(!$Ps[this])return;var
pane=str(this),s=o[pane],$P=$Ps[pane],$R=$Rs[pane],hasRoom=true,CSS={};if(pane=="center"){dims=getPaneDims();CSS=$.extend({},dims);CSS.width=max(1,cssW(pane,CSS.width));CSS.height=max(1,cssH(pane,CSS.height));hasRoom=(CSS.width>1&&CSS.height>1);if($.browser.msie&&(!$.boxModel||$.browser.version<7)){$Ps.north.css({width:cssW($Ps.north,cDims.innerWidth)});$Ps.south.css({width:cssW($Ps.south,cDims.innerWidth)});}}else{CSS.top=dims.top;CSS.bottom=dims.bottom;CSS.height=max(1,cssH(pane,dims.height));hasRoom=(CSS.height>1);}if(hasRoom){$P.css(CSS);if(s.noRoom){s.noRoom=false;if(s.isHidden)return;if(!s.isClosed)$P.show();if($R)$R.show();}if(!onInit){sizeContent(pane);execCallback(pane,s.onresize);}}else if(!s.noRoom){s.noRoom=true;if(s.isHidden)return;$P.hide();if($R)$R.hide();}});};var sizeContent=function(panes){if(!panes||panes=="all")panes=c.allPanes;$.each(panes.split(","),function(){if(!$Cs[this])return;var
pane=str(this),ignore=o[pane].contentIgnoreSelector,$P=$Ps[pane],$C=$Cs[pane],e_C=$C[0],height=cssH($P);;$P.children().each(function(idx){if(this==e_C)return;var $E=$(this);if(!ignore||!$E.is(ignore))height-=$E.outerHeight();});if(height>0)height=cssH($C,height);if(height<1)$C.hide();else
$C.css({height:height}).show();});};var sizeHandles=function(panes,onInit){if(!panes||panes=="all")panes=c.borderPanes;$.each(panes.split(","),function(){var
pane=str(this),s=o[pane],$P=$Ps[pane],$R=$Rs[pane],$T=$Ts[pane];if(!$P||!$R||(!s.resizable&&!s.closable))return;var
dir=c[pane].dir,state=(s.isClosed?"_closed":"_open"),spacing=s["spacing"+state],togAlign=s["togglerAlign"+state],togLen=s["togglerLength"+state],paneLen,offset,CSS={};if(spacing==0){$R.hide();return;}else if(!s.noRoom&&!s.isHidden)$R.show();if(dir=="horz"){paneLen=$P.outerWidth();$R.css({width:max(1,cssW($R,paneLen)),height:max(1,cssH($R,spacing)),left:cssNum($P,"left")});}else{paneLen=$P.outerHeight();$R.css({height:max(1,cssH($R,paneLen)),width:max(1,cssW($R,spacing)),top:cDims.top+getPaneSize("north",true)});}if($T){if(togLen==0||(s.isSliding&&s.hideTogglerOnSlide)){$T.hide();return;}else
$T.show();if(!(togLen>0)||togLen=="100%"||togLen>paneLen){togLen=paneLen;offset=0;}else{if(typeof togAlign=="string"){switch(togAlign){case"top":case"left":offset=0;break;case"bottom":case"right":offset=paneLen-togLen;break;case"middle":case"center":default:offset=Math.floor((paneLen-togLen)/2);}}else{var x=parseInt(togAlign);if(togAlign>=0)offset=x;else offset=paneLen-togLen+x;}}if(dir=="horz")$T.css({width:max(0,cssW($T,togLen)),height:max(1,cssH($T,spacing)),left:offset});else
$T.css({height:max(0,cssH($T,togLen)),width:max(1,cssW($T,spacing)),top:offset});}if(onInit&&s.initHidden){$R.hide();if($T)$T.hide();}});};var resizeAll=function(){cDims=getContainerDims();sizeMidPanes("all");sizeHandles("all");};function allowOverflow(elem){if(this&&this.tagName)elem=this;var $P;if(typeof elem=="string")$P=$Ps[elem];else{if($(elem).hasClass("ui-layout-pane"))$P=$(elem);else $P=$(elem).parents(".ui-layout-pane:first");}if(!$P.length)return;var
pane=$P.attr("pane"),s=o[pane];if(c[pane].cssSaved)resetOverflow(pane);if(s.isSliding||s.isResizing||s.isClosed){c[pane].cssSaved=false;return;}var
newCSS={zIndex:(c.zIndex.pane_normal+1)},curCSS={},of=$P.css("overflow"),ofX=$P.css("overflowX"),ofY=$P.css("overflowY");if(of!="visible"){curCSS.overflow=of;newCSS.overflow="visible";}if(ofX&&ofX!="visible"&&ofX!="auto"){curCSS.overflowX=ofX;newCSS.overflowX="visible";}if(ofY&&ofY!="visible"&&ofY!="auto"){curCSS.overflowY=ofX;newCSS.overflowY="visible";}c[pane].cssSaved=curCSS;$P.css(newCSS);$.each(c.allPanes.split(","),function(idx,pane2){if(pane2!=pane)resetOverflow(pane2)});};function resetOverflow(elem){if(this&&this.tagName)elem=this;var $P;if(typeof elem=="string")$P=$Ps[elem];else{if($(elem).hasClass("ui-layout-pane"))$P=$(elem);else $P=$(elem).parents(".ui-layout-pane:first");}if(!$P.length)return;var
pane=$P.attr("pane"),s=o[pane],CSS=c[pane].cssSaved||{};if(!s.isSliding&&!s.isResizing)$P.css("zIndex",c.zIndex.pane_normal);$P.css(CSS);c[pane].cssSaved=false;};function getBtn(selector,pane,suffix){var
$E=$(selector),err="Error Adding Button \n\nInvalid ";if(!$E.length)alert(err+"selector: "+selector);else if(c.borderPanes.indexOf(pane)==-1)alert(err+"pane: "+pane);else{var pre=o[pane].buttonClass;$E.addClass(pre+suffix+" "+pre+"-"+pane+suffix);return $E;}return false;};function addToggleBtn(selector,pane){var $E=getBtn(selector,pane,"-toggle");if($E)$E.attr("title",o[pane].isClosed?"Open":"Close").click(function(evt){toggle(pane);evt.stopPropagation();});};function addOpenBtn(selector,pane){var $E=getBtn(selector,pane,"-open");if($E)$E.attr("title","Open").click(function(evt){open(pane);evt.stopPropagation();});};function addCloseBtn(selector,pane){var $E=getBtn(selector,pane,"-close");if($E)$E.attr("title","Close").click(function(evt){close(pane);evt.stopPropagation();});};function addPinBtn(selector,pane){var $E=getBtn(selector,pane,"-pin");if($E){var s=o[pane];$E.click(function(evt){setPinState($(this),pane,(s.isSliding||s.isClosed));if(s.isSliding||s.isClosed)open(pane);else close(pane);evt.stopPropagation();});setPinState($E,pane,(!s.isClosed&&!s.isSliding));c[pane].pins.push(selector);}};function syncPinBtns(pane,doPin){$.each(c[pane].pins,function(idx,selector){setPinState($(selector),pane,doPin);});};function setPinState($Pin,pane,doPin){var state=$Pin.attr("pin");if(state&&doPin==(state=="down"))return;var
root=o[pane].buttonClass,class1=root+"-pin",class2=root+"-"+pane+"-pin",UP1=class1+"-up",UP2=class2+"-up",DN1=class1+"-down",DN2=class2+"-down";$Pin.attr("pin",doPin?"down":"up").attr("title",doPin?"Un-Pin":"Pin").removeClass(doPin?UP1:DN1).removeClass(doPin?UP2:DN2).addClass(doPin?DN1:UP1).addClass(doPin?DN2:UP2);};var
$Container=$(this).css({overflow:"hidden"}),$Ps={},$Cs={},$Rs={},$Ts={},cDims={},c=config,o=options;create();return{containerDimensions:cDims,options:options,panes:$Ps,toggle:toggle,open:open,close:close,hide:hide,show:show,resizeContent:sizeContent,sizePane:sizePane,resizeAll:resizeAll,addToggleBtn:addToggleBtn,addOpenBtn:addOpenBtn,addCloseBtn:addCloseBtn,addPinBtn:addPinBtn,allowOverflow:allowOverflow,resetOverflow:resetOverflow}}})(jQuery);